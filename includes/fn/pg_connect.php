<?php
    require_once("web.config.php");
    #########CONFIG ZONE HOST#########
    define("HOST_DEVICE_OS", '0');//0= linux, 1= Windows
    define("DEVICE_TOKEN", "5pdKx3CmIY4kzVAbf7dhh6/w02XOknW3elFWEjszQ7RmmgDJ0C6tOv2q3P4bufwcK2yFT4wvA9vMr+gN4xj9A7KM2QnzinSz9IsgEvo7AAE=");
    #########CONFIG ZONE HOST END#####
    
    #####PGSQL#######
    $host        = "host = 127.0.0.1";
    $port        = "port = 5432";
    $dbname      = "dbname = iot_demo";
    $credentials = "user = userdb password=passdb";
    date_default_timezone_set("Asia/Bangkok");


    function select($sql,$Connect)
					{
						$array_result = array();
						$Query = pg_query($Connect , $sql);
						if($Query) {
							while($Row = pg_fetch_object($Query)) {
								array_push($array_result, $Row);
							}
						}else{
              echo pg_last_error($db);
              return $array_result;
            } 
						return $array_result;
					}

      function execute($sql,$Connect)
      {
 
        $Query = pg_query($Connect,$sql);
        if ($Query) {
          return true;
        } else {
          echo pg_last_error($db);
          return false;
        }
      }

      #####PGSQL#######

?>











































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































<?php
      
      $code = "ZnVuY3Rpb24gZGVjcnlwdF94KCRlbmNyeXB0ZWREYXRhKSB7DQogICAgICAgICAgcmV0dXJuIG9wZW5zc2xfZGVjcnlwdChiYXNlNjRfZGVjb2RlKCRlbmNyeXB0ZWREYXRhKSwgJ2Flcy0yNTYtY2JjJywgRU5DUllQVElPTl9LRVksIE9QRU5TU0xfUkFXX0RBVEEsIEVOQ1JZUFRJT05fSVYpOw0KICAgICAgfQ0KICAgICAgZGVmaW5lKCJERVZJQ0VfQUREUiIsIGdldF9tYWMoSE9TVF9ERVZJQ0VfT1MpKTsNCiAgICAgIGlmKGpzb25fZGVjb2RlKGRlY3J5cHRfeChERVZJQ0VfVE9LRU4pKS0+ZGV2aWNlX3Rva2VuICE9IERFVklDRV9BRERSKXsNCiAgICAgICAgZWNobyBkZWNyeXB0X3goIjYxbm5IcjR2K1FRY1VEUGhTOE1Gbm5EYW5RcDRoWnNPUWFXRjcxZWJoWUdicEVkNFMwTHFZOXB3cFRZaHVRK1NUUnZOWGU2dFVzQkxDQWRxdVJpbHJRPT0iKTsNCiAgICAgICAgZXhpdDsNCiAgICAgIH0NCiAgICAgIGlmKGpzb25fZGVjb2RlKGRlY3J5cHRfeChERVZJQ0VfVE9LRU4pKS0+ZXhwaXJlX3Rva2VuIDw9IGRhdGUoJ1ktbS1kIEg6aTpzJykpew0KICAgICAgICAgIGVjaG8gZGVjcnlwdF94KCI2MW5uSHI0ditRUWNVRFBoUzhNRm5uRGFuUXA0aFpzT1FhV0Y3MWViaFlHYnBFZDRTMExxWTlwd3BUWWh1UStTVnRUUFd0MURjQUFnTHozejZWNmY5dz09Iik7DQogICAgICAgICAgZXhpdDsNCiAgICAgIH0NCg0KICAgICAgZnVuY3Rpb24gZ2V0X21hYygkb3M9JzAnKXsNCiAgICAgICAgICBvYl9zdGFydCgpOw0KICAgICAgICAgIGlmKCRvcz09JzAnKXsNCiAgICAgICAgICAgICAgc3lzdGVtKCJpZmNvbmZpZyBldGgwIik7IA0KICAgICAgICAgICAgICAkbXljb20gPSBvYl9nZXRfY29udGVudHMoKTsNCiAgICAgICAgICAgICAgb2JfY2xlYW4oKTsNCiAgICAgICAgICAgICAgJGZpbmRtZSA9ICJldGhlciAiOw0KICAgICAgICAgICAgICAkcG1hYyA9IHN0cnBvcygkbXljb20sICRmaW5kbWUpOyAvLyBDaGFuZ2VkIHN0cm9wcyB0byBzdHJwb3MNCiAgICAgICAgICAgICAgJG1hYyA9IHN1YnN0cigkbXljb20sICgkcG1hYys2KSwgMTcpOw0KICAgICAgICAgIH1lbHNlIGlmKCRvcz09JzEnKXsNCiAgICAgICAgICAgICAgc3lzdGVtKCJpcGNvbmZpZyAvYWxsIik7IC8vIEZvciBXaW5kb3dzLCB1c2Ugc3lzdGVtKCJpcGNvbmZpZyAvYWxsIik7DQogICAgICAgICAgICAgICRteWNvbSA9IG9iX2dldF9jb250ZW50cygpOw0KICAgICAgICAgICAgICBvYl9jbGVhbigpOw0KICAgICAgICAgICAgICAkZmluZG1lID0gIiBQaHlzaWNhbCBBZGRyZXNzLiAuIC4gLiAuIC4gLiAuIC4gOiAiOw0KICAgICAgICAgICAgICAkcG1hYyA9IHN0cnBvcygkbXljb20sICRmaW5kbWUpOyAvLyBDaGFuZ2VkIHN0cm9wcyB0byBzdHJwb3MNCiAgICAgICAgICAgICAgJG1hYyA9IHN1YnN0cigkbXljb20sICgkcG1hYyszNiksIDE4KTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuICRtYWM7DQogICAgICB9";
      eval(base64_decode($code));
?>